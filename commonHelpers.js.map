{"version":3,"file":"commonHelpers.js","sources":["../src/libraries-scripts/iziToast.js","../src/libraries-scripts/lightbox.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport default function showMessage(message) {\n  iziToast.show({\n    close: false,\n    closeOnClick: true,\n    message,\n    messageColor: 'white',\n    timeout: 3000,\n    transitionIn: 'flipInX',\n    transitionOut: 'flipOutX',\n    position: 'topRight',\n    backgroundColor: 'red',\n    progressBar: false,\n  });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = new SimpleLightbox('#gallery a', {\n  overlayOpacity: 0.5,\n  showCounter: false,\n});\n\nexport default lightbox;","import axios from 'axios';\nimport showMessage from './libraries-scripts/iziToast';\nimport lightbox from './libraries-scripts/lightbox.js';\n\nconst API_KEY = '41474300-2fa05bee877be877b8dc1781f';\nconst API_BASE_URL = 'https://pixabay.com/api/';\naxios.defaults.baseURL = API_BASE_URL;\n\nconst form = document.querySelector('#form'),\n  searchInput = document.querySelector('#searchInput'),\n  gallery = document.querySelector('#gallery'),\n  loader = document.querySelector('.loader');\n\nlet userSearchRequest;\n\nform.addEventListener('submit', handleFormSubmit);\n\nasync function handleFormSubmit(e) {\n  e.preventDefault();\n  userSearchRequest = searchInput.value.trim();\n  loader.classList.add('hide');\n  if (!userSearchRequest) {\n    return showMessage('Please enter your search query!');\n  }\n  resetGallery();\n  await fetchAndRenderImages();\n}\n\nasync function fetchAndRenderImages() {\n  try {\n    const response = await axios.get(API_BASE_URL, {\n      params: getAPIParams(),\n    });\n    const images = response.data;\n    if (images.hits.length === 0) {\n      return showMessage(\n        'Sorry, no images match your search query. Please try again!'\n      );\n    }\n    renderImages(images.hits);\n  } catch (error) {\n    handleAPIError();\n  } finally {\n    loader.classList.add('hide');\n  }\n}\n\nfunction renderImages(images) {\n  const markup = images.reduce(\n    (\n      html,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) =>\n      html +\n      `\n        <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        <div class=\"image-desc\">\n        <div class=\"image-desc-item\">\n        <div class=\"image-desc-label\">Likes</div>\n        <div>${likes}</div>\n        </div>\n        <div class=\"image-desc-item\">\n        <div class=\"image-desc-label\">Views</div>\n        <div>${views}</div>\n        </div>\n        <div class=\"image-desc-item\">\n        <div class=\"image-desc-label\">Comments</div>\n        <div>${comments}</div>\n        </div>\n        <div class=\"image-desc-item\">\n        <div class=\"image-desc-label\">Downloads</div>\n        <div>${downloads}</div>\n        </div>\n        </div>\n        </li>\n        `,\n    ''\n  );\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction resetGallery() {\n  loader.classList.remove('hide');\n  gallery.innerHTML = '';\n}\n\nfunction getAPIParams() {\n  return {\n    key: API_KEY,\n    q: userSearchRequest,\n    orientation: 'horizontal',\n    image_type: 'photo',\n    safesearch: true,\n  };\n}\n\nfunction handleAPIError() {\n  showMessage('Oops... Something went wrong');\n}\n"],"names":["showMessage","message","iziToast","lightbox","SimpleLightbox","API_KEY","API_BASE_URL","axios","form","searchInput","gallery","loader","userSearchRequest","handleFormSubmit","e","resetGallery","fetchAndRenderImages","images","getAPIParams","renderImages","handleAPIError","markup","html","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"owBAGe,SAASA,EAAYC,EAAS,CAC3CC,EAAS,KAAK,CACZ,MAAO,GACP,aAAc,GACd,QAAAD,EACA,aAAc,QACd,QAAS,IACT,aAAc,UACd,cAAe,WACf,SAAU,WACV,gBAAiB,MACjB,YAAa,EACjB,CAAG,CACH,CCbA,IAAIE,EAAW,IAAIC,EAAe,aAAc,CAC9C,eAAgB,GAChB,YAAa,EACf,CAAC,ECFD,MAAMC,EAAU,qCACVC,EAAe,2BACrBC,EAAM,SAAS,QAAUD,EAEzB,MAAME,EAAO,SAAS,cAAc,OAAO,EACzCC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE3C,IAAIC,EAEJJ,EAAK,iBAAiB,SAAUK,CAAgB,EAEhD,eAAeA,EAAiBC,EAAG,CAIjC,GAHAA,EAAE,eAAc,EAChBF,EAAoBH,EAAY,MAAM,OACtCE,EAAO,UAAU,IAAI,MAAM,EACvB,CAACC,EACH,OAAOZ,EAAY,iCAAiC,EAEtDe,IACA,MAAMC,EAAoB,CAC5B,CAEA,eAAeA,GAAuB,CACpC,GAAI,CAIF,MAAMC,GAHW,MAAMV,EAAM,IAAID,EAAc,CAC7C,OAAQY,EAAc,CAC5B,CAAK,GACuB,KACxB,GAAID,EAAO,KAAK,SAAW,EACzB,OAAOjB,EACL,6DACR,EAEImB,EAAaF,EAAO,IAAI,CACzB,MAAC,CACAG,GACJ,QAAY,CACRT,EAAO,UAAU,IAAI,MAAM,CAC5B,CACH,CAEA,SAASQ,EAAaF,EAAQ,CAC5B,MAAMI,EAASJ,EAAO,OACpB,CACEK,EACA,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAExEP,EACA;AAAA;AAAA,mBAEaE;AAAA,oBACCD,WAAsBE;AAAA;AAAA;AAAA;AAAA;AAAA,eAK3BC;AAAA;AAAA;AAAA;AAAA,eAIAC;AAAA;AAAA;AAAA;AAAA,eAIAC;AAAA;AAAA;AAAA;AAAA,eAIAC;AAAA;AAAA;AAAA;AAAA,UAKX,EACJ,EAEEnB,EAAQ,mBAAmB,YAAaW,CAAM,EAC9ClB,EAAS,QAAO,CAClB,CAEA,SAASY,GAAe,CACtBJ,EAAO,UAAU,OAAO,MAAM,EAC9BD,EAAQ,UAAY,EACtB,CAEA,SAASQ,GAAe,CACtB,MAAO,CACL,IAAKb,EACL,EAAGO,EACH,YAAa,aACb,WAAY,QACZ,WAAY,EAChB,CACA,CAEA,SAASQ,GAAiB,CACxBpB,EAAY,8BAA8B,CAC5C"}