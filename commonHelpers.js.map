{"version":3,"file":"commonHelpers.js","sources":["../src/libraries-scripts/iziToast.js","../src/libraries-scripts/lightbox.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport default function showMessage(message) {\n  iziToast.show({\n    close: false,\n    closeOnClick: true,\n    message,\n    messageColor: 'white',\n    timeout: 3000,\n    transitionIn: 'flipInX',\n    transitionOut: 'flipOutX',\n    position: 'topRight',\n    backgroundColor: 'red',\n    progressBar: false,\n  });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = new SimpleLightbox('#gallery a', {\n  overlayOpacity: 0.5,\n  showCounter: false,\n});\n\nexport default lightbox;","import showMessage from './libraries-scripts/iziToast';\nimport lightbox from './libraries-scripts/lightbox.js';\n\nconst API_KEY = '41474300-2fa05bee877be877b8dc1781f';\nconst API_DEFAULT_PARAMS = {\n  key: API_KEY,\n  orientation: 'horizontal',\n  image_type: 'photo',\n  safesearch: true,\n};\nconst API_BASE_URL = 'https://pixabay.com/api/?';\nlet userSearchRequest;\n\nconst form = document.querySelector('#form'),\n  searchInput = document.querySelector('#searchInput'),\n  gallery = document.querySelector('#gallery'),\n  loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handleFormSubmit);\n\nasync function handleFormSubmit(e) {\n  e.preventDefault();\n  userSearchRequest = searchInput.value.trim();\n  if (!userSearchRequest) {\n    return showMessage('Please enter your search query!');\n  }\n  resetGallery();\n  fetchAndRenderImages();\n}\n\nfunction fetchAndRenderImages() {\n  fetch(\n    API_BASE_URL +\n      new URLSearchParams({\n        ...API_DEFAULT_PARAMS,\n        q: userSearchRequest,\n      })\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(images => {\n      if (images.hits.length === 0) {\n        return showMessage(\n          'Sorry, no images match your search query. Please try again!'\n        );\n      }\n      renderImages(images.hits);\n    })\n    .catch(error => {\n      handleAPIError(error);\n    })\n    .finally(() => {\n      loader.classList.add('hide');\n    });\n}\n\nfunction renderImages(images) {\n  const markup = images.reduce(\n    (\n      html,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) =>\n      html +\n      `\n        <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        <div class=\"image-desc\">\n        <div class=\"image-desc-item\">\n        <div class=\"image-desc-label\">Likes</div>\n        <div>${likes}</div>\n        </div>\n        <div class=\"image-desc-item\">\n        <div class=\"image-desc-label\">Views</div>\n        <div>${views}</div>\n        </div>\n        <div class=\"image-desc-item\">\n        <div class=\"image-desc-label\">Comments</div>\n        <div>${comments}</div>\n        </div>\n        <div class=\"image-desc-item\">\n        <div class=\"image-desc-label\">Downloads</div>\n        <div>${downloads}</div>\n        </div>\n        </div>\n        </li>\n        `,\n    ''\n  );\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction resetGallery() {\n  loader.classList.remove('hide');\n  gallery.innerHTML = '';\n}\n\nfunction handleAPIError(error) {\n  console.log(error);\n  error?.response?.data\n    ? showMessage(error.response.data)\n    : showMessage('Oops... Something went wrong');\n}\n"],"names":["showMessage","message","iziToast","lightbox","SimpleLightbox","API_KEY","API_DEFAULT_PARAMS","API_BASE_URL","userSearchRequest","form","searchInput","gallery","loader","handleFormSubmit","resetGallery","fetchAndRenderImages","response","images","renderImages","error","handleAPIError","markup","html","webformatURL","largeImageURL","tags","likes","views","comments","downloads","_a"],"mappings":"6vBAGe,SAASA,EAAYC,EAAS,CAC3CC,EAAS,KAAK,CACZ,MAAO,GACP,aAAc,GACd,QAAAD,EACA,aAAc,QACd,QAAS,IACT,aAAc,UACd,cAAe,WACf,SAAU,WACV,gBAAiB,MACjB,YAAa,EACjB,CAAG,CACH,CCbA,IAAIE,EAAW,IAAIC,EAAe,aAAc,CAC9C,eAAgB,GAChB,YAAa,EACf,CAAC,ECHD,MAAMC,EAAU,qCACVC,EAAqB,CACzB,IAAKD,EACL,YAAa,aACb,WAAY,QACZ,WAAY,EACd,EACME,EAAe,4BACrB,IAAIC,EAEJ,MAAMC,EAAO,SAAS,cAAc,OAAO,EACzCC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE3CH,EAAK,iBAAiB,SAAUI,CAAgB,EAEhD,eAAeA,EAAiB,EAAG,CAGjC,GAFA,EAAE,eAAc,EAChBL,EAAoBE,EAAY,MAAM,OAClC,CAACF,EACH,OAAOR,EAAY,iCAAiC,EAEtDc,IACAC,GACF,CAEA,SAASA,GAAuB,CAC9B,MACER,EACE,IAAI,gBAAgB,CAClB,GAAGD,EACH,EAAGE,CACX,CAAO,CACJ,EACE,KAAKQ,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EACzB,OAAOjB,EACL,6DACV,EAEMkB,EAAaD,EAAO,IAAI,CAC9B,CAAK,EACA,MAAME,GAAS,CACdC,EAAeD,CAAK,CAC1B,CAAK,EACA,QAAQ,IAAM,CACbP,EAAO,UAAU,IAAI,MAAM,CACjC,CAAK,CACL,CAEA,SAASM,EAAaD,EAAQ,CAC5B,MAAMI,EAASJ,EAAO,OACpB,CACEK,EACA,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAExEP,EACA;AAAA;AAAA,mBAEaE;AAAA,oBACCD,WAAsBE;AAAA;AAAA;AAAA;AAAA;AAAA,eAK3BC;AAAA;AAAA;AAAA;AAAA,eAIAC;AAAA;AAAA;AAAA;AAAA,eAIAC;AAAA;AAAA;AAAA;AAAA,eAIAC;AAAA;AAAA;AAAA;AAAA,UAKX,EACJ,EAEElB,EAAQ,mBAAmB,YAAaU,CAAM,EAC9ClB,EAAS,QAAO,CAClB,CAEA,SAASW,GAAe,CACtBF,EAAO,UAAU,OAAO,MAAM,EAC9BD,EAAQ,UAAY,EACtB,CAEA,SAASS,EAAeD,EAAO,OAC7B,QAAQ,IAAIA,CAAK,GACjBW,EAAAX,GAAA,YAAAA,EAAO,WAAP,MAAAW,EAAiB,KACb9B,EAAYmB,EAAM,SAAS,IAAI,EAC/BnB,EAAY,8BAA8B,CAChD"}